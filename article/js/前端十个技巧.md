# å‰ç«¯åä¸ªæŠ€å·§
**ç”¨??ä»£æ›¿||ï¼Œç”¨äºåˆ¤æ–­è¿ç®—ç¬¦å·¦ä¾§çš„å€¼ä¸ºnullæˆ–undefinedæ—¶ï¼Œæ‰è¿”å›å³ä¾§çš„å€¼**  
||è¿ç®—ç¬¦æ˜¯å·¦è¾¹æ˜¯ç©ºå­—ç¬¦ä¸²æˆ–falseæˆ–0ç­‰falsyå€¼ï¼Œéƒ½ä¼šè¿”å›åä¾§çš„å€¼ã€‚è€Œ??å¿…é¡»è¿ç®—ç¬¦å·¦ä¾§çš„å€¼ä¸ºnullæˆ–undefinedæ—¶ï¼Œæ‰ä¼šè¿”å›å³ä¾§çš„å€¼ã€‚å› æ­¤0||1çš„ç»“æœä¸º1ï¼Œ0??1çš„ç»“æœä¸º0  
ä¾‹å¦‚ï¼š  
```
const response = {
  settings: {
    nullValue: null,
    height: 400,
    animationDuration: 0,
    headerText: '',
    showSplashScreen: false
  }
};

const undefinedValue = response.settings.undefinedValue ?? 'some other default'; // result: 'some other default'
const nullValue = response.settings.nullValue ?? 'some other default'; // result: 'some other default'
const headerText = response.settings.headerText ?? 'Hello, world!'; // result: ''
const animationDuration = response.settings.animationDuration ?? 300; // result: 0
const showSplashScreen = response.settings.showSplashScreen ?? true; // result: false
```
**ä½¿ç”¨?.ç®€åŒ–&&å’Œä¸‰å…ƒè¿ç®—ç¬¦**  
?.ç›´æ¥åœ¨é“¾å¼è°ƒç”¨çš„æ—¶å€™åˆ¤æ–­ï¼Œåˆ¤æ–­å·¦ä¾§çš„å¯¹è±¡æ˜¯å¦ä¸ºnullæˆ–undefinedï¼Œå¦‚æœæ˜¯çš„ï¼Œå°±ä¸å†å¾€ä¸‹è¿ç®—ï¼Œè¿”å›undefinedï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™è¿”å›å³ä¾§çš„å€¼  
ä¾‹å¦‚ï¼š  
```
var street = user.address && user.address.street;

var fooInput = myForm.querySelector('input[name=foo]')
var fooValue = fooInput ? fooInput.value : undefined

// ç®€åŒ–
var street = user.address?.street
var fooValue = myForm.querySelector('input[name=foo]')?.value
```
æ³¨ï¼š å¸¸è§å†™æ³•  
- obj?.prop  å¯¹è±¡å±æ€§
- obj?.[expr]  å¯¹è±¡å±æ€§
- func?.(...args)  å‡½æ•°æˆ–å¯¹è±¡æ–¹æ³•çš„è°ƒç”¨

**ä½¿ç”¨åŠ¨æ€å¯¼å…¥import()å®ç°æŒ‰éœ€åŠ è½½ï¼ˆä¼˜åŒ–é™æ€importï¼‰**  
ä½¿ç”¨ import è¯­å¥åˆå§‹åŒ–çš„åŠ è½½ä¾èµ–é¡¹  
```
import defaultExport from "module-name";
import * as name from "module-name";
//...
```
ä½†æ˜¯é™æ€å¼•å…¥çš„import è¯­å¥éœ€è¦ä¾èµ–äº type="module" çš„scriptæ ‡ç­¾ï¼Œè€Œä¸”æœ‰çš„æ—¶å€™æˆ‘ä»¬å¸Œæœ›å¯ä»¥æ ¹æ®æ¡ä»¶æ¥æŒ‰éœ€åŠ è½½æ¨¡å—ï¼Œæ¯”å¦‚ä»¥ä¸‹åœºæ™¯ï¼š  
- å½“é™æ€å¯¼å…¥çš„æ¨¡å—å¾ˆæ˜æ˜¾çš„é™ä½äº†ä»£ç çš„åŠ è½½é€Ÿåº¦ä¸”è¢«ä½¿ç”¨çš„å¯èƒ½æ€§å¾ˆä½ï¼Œæˆ–è€…å¹¶ä¸éœ€è¦é©¬ä¸Šä½¿ç”¨å®ƒ
- å½“é™æ€å¯¼å…¥çš„æ¨¡å—å¾ˆæ˜æ˜¾çš„å ç”¨äº†å¤§é‡ç³»ç»Ÿå†…å­˜ä¸”è¢«ä½¿ç”¨çš„å¯èƒ½æ€§å¾ˆä½
- å½“è¢«å¯¼å…¥çš„æ¨¡å—ï¼Œåœ¨åŠ è½½æ—¶å¹¶ä¸å­˜åœ¨ï¼Œéœ€è¦å¼‚æ­¥è·å–
- å½“è¢«å¯¼å…¥çš„æ¨¡å—æœ‰å‰¯ä½œç”¨ï¼Œè¿™äº›å‰¯ä½œç”¨åªæœ‰åœ¨è§¦å‘äº†æŸäº›æ¡ä»¶æ‰è¢«éœ€è¦æ—¶

è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åŠ¨æ€å¼•å…¥import()ï¼Œå®ƒè·Ÿå‡½æ•°ä¸€æ ·å¯ä»¥ç”¨äºå„ç§åœ°æ–¹ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ª promise  
åŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ä¸¤ç§å½¢å¼:
```
//å½¢å¼ 1
import('/modules/my-module.js')
  .then((module) => {
    // Do something with the module.
  });
  
 //å½¢å¼2
let module = await import('/modules/my-module.js');
```

**ä½¿ç”¨é¡¶å±‚ awaitç®€åŒ– async å‡½æ•°**  
```
//ä»¥å‰
(async function () {
  await Promise.resolve(console.log('ğŸ‰'));
  // â†’ ğŸ‰
})();

//ç®€åŒ–å
await Promise.resolve(console.log('ğŸ‰'));
```
**ä½¿ç”¨String.prototype.replaceAll()ç®€åŒ–replaceä¸€æ¬¡æ€§æ›¿æ¢æ‰€æœ‰å­å­—ç¬¦ä¸²**   
String.prototype.replaceAll()ç”¨æ³•ä¸String.prototype.replace()ç±»ä¼¼,replaceä»…æ›¿æ¢ç¬¬ä¸€æ¬¡å‡ºç°çš„å­å­—ç¬¦ä¸²ï¼Œè€ŒreplaceAllä¼šæ›¿æ¢æ‰€æœ‰  
```
// ä»¥å‰
console.log('aaa'.replace(/a/g,'A')) //AAA

// ç®€åŒ–å
console.log('aaa'.replaceAll('a','A')) //AAA
```
**ä½¿ç”¨Proxyæ›¿ä»£Object.defineProperty**  
Proxyçš„å‡ ç‚¹ä¼˜åŠ¿:  
- Proxy æ˜¯å¯¹æ•´ä¸ªå¯¹è±¡çš„ä»£ç†ï¼Œè€Œ Object.defineProperty åªèƒ½ä»£ç†æŸä¸ªå±æ€§
- å¯¹è±¡ä¸Šæ–°å¢å±æ€§ï¼ŒProxy å¯ä»¥ç›‘å¬åˆ°ï¼ŒObject.defineProperty ä¸èƒ½
- æ•°ç»„æ–°å¢ä¿®æ”¹ï¼ŒProxy å¯ä»¥ç›‘å¬åˆ°ï¼ŒObject.defineProperty ä¸èƒ½
- è‹¥å¯¹è±¡å†…éƒ¨å±æ€§è¦å…¨éƒ¨é€’å½’ä»£ç†ï¼ŒProxy å¯ä»¥åªåœ¨è°ƒç”¨çš„æ—¶å€™é€’å½’ï¼Œè€Œ Object.definePropery éœ€è¦ä¸€æ¬¡å®Œæˆæ‰€æœ‰é€’å½’ï¼Œæ€§èƒ½æ¯” Proxy å·®

Proxyæœ¬è´¨æ˜¯æ„é€ å‡½æ•°ï¼Œé€šè¿‡newå³å¯äº§ç”Ÿå¯¹è±¡ï¼Œå®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š  
- targetè¡¨ç¤ºçš„å°±æ˜¯è¦æ‹¦æˆªï¼ˆä»£ç†ï¼‰çš„ç›®æ ‡å¯¹è±¡
- handleræ˜¯ç”¨æ¥å®šåˆ¶æ‹¦æˆªè¡Œä¸ºï¼ˆ13ç§ï¼‰

ä¾‹å¦‚å“åº”å¼reactiveçš„åŸºæœ¬å®ç°ï¼š
```
function reactive(obj) {
    return new Proxy(obj, {
        get(target, key) {
            // å¯ä»¥åšä¾èµ–æ”¶é›†
            track(target, key)
            return target[key]
        },
        set(target, key, val) {
            target[key] = val
            // è§¦å‘ä¾èµ–
            trigger(target, key)
        }
    })
}
```
**Promise.anyå¿«é€Ÿè·å–ä¸€ç»„Promiseå®ä¾‹ä¸­ç¬¬ä¸€ä¸ªfulfilledçš„promise**  
Promise.any æ¥æ”¶ä¸€ç»„Promiseå®ä¾‹ä½œä¸ºå‚æ•°
- åªè¦å…¶ä¸­çš„ä¸€ä¸ª promise æˆåŠŸï¼Œå°±è¿”å›é‚£ä¸ªå·²ç»æˆåŠŸçš„ promise
- å¦‚æœè¿™ç»„å¯è¿­ä»£å¯¹è±¡ä¸­ï¼Œæ²¡æœ‰ä¸€ä¸ª promise æˆåŠŸï¼Œå°±è¿”å›ä¸€ä¸ªå¤±è´¥çš„ promise å’Œ AggregateError ç±»å‹çš„å®ä¾‹

å†™æ³•æ¨è:
```
try {
  const first = await Promise.any(promises);
  // Any of the promises was fulfilled.
} catch (error) {
  // All of the promises were rejected.
}

Promise.any(promises).then(
  (first) => {
    // Any of the promises was fulfilled.
  },
  (error) => {
    // All of the promises were rejected.
  }
);
```
**ä½¿ç”¨BigIntæ”¯æŒå¤§æ•´æ•°è®¡ç®—é—®é¢˜**  
ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ BigIntï¼Œç”¨æ¥è¡¨ç¤ºä»»æ„ä½æ•°çš„æ•´æ•°  
ä¾‹å¦‚:
```
// è¶…è¿‡ 53 ä¸ªäºŒè¿›åˆ¶ä½çš„æ•°å€¼ï¼ˆç›¸å½“äº 16 ä¸ªåè¿›åˆ¶ä½ï¼‰ï¼Œæ— æ³•ä¿æŒç²¾åº¦
Math.pow(2, 53) === Math.pow(2, 53) + 1 // true

// BigInt
BigInt(Math.pow(2, 53)) === BigInt(Math.pow(2, 53)) + BigInt(1) // false
```
é™¤äº†ä½¿ç”¨BigIntæ¥å£°æ˜ä¸€ä¸ªå¤§æ•´æ•°ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ•°å­—åé¢åŠ nçš„å½¢å¼ï¼Œå¦‚
```
1234 // æ™®é€šæ•´æ•°
1234n // BigInt
```
**ä½¿ç”¨Array.prototype.at()ç®€åŒ–arr.length**  
Array.prototype.at()æ¥æ”¶ä¸€ä¸ªæ­£æ•´æ•°æˆ–è€…è´Ÿæ•´æ•°ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºè·å–æŒ‡å®šä½ç½®çš„æˆå‘˜  
å‚æ•°æ­£æ•°å°±è¡¨ç¤ºé¡ºæ•°ç¬¬å‡ ä¸ªï¼Œè´Ÿæ•°è¡¨ç¤ºå€’æ•°ç¬¬å‡ ä¸ªï¼Œè¿™å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŸä¸ªæ•°ç»„æœ«å°¾çš„å…ƒç´   
```
varÂ arrÂ =Â [1,Â 2,Â 3,Â 4,Â 5]
//Â ä»¥å‰è·å–æœ€åä¸€ä½
console.log(arr[arr.length-1]) //5
//Â ç®€åŒ–å
console.log(arr.at(-1))Â //Â 5
```
**ä½¿ç”¨å“ˆå¸Œå‰ç¼€#å°†ç±»å­—æ®µè®¾ä¸ºç§æœ‰**  
é€šè¿‡å“ˆå¸Œå‰ç¼€#æ ‡è®°çš„å­—æ®µéƒ½å°†è¢«ç§æœ‰ï¼Œå­ç±»å®ä¾‹å°†æ— æ³•ç»§æ‰¿  
```
class ClassWithPrivateField {
    #privateField;
    #privateMethod() {
        return 'hello world';
    }
    constructor() {
        this.#privateField = 42;
    }
}

const instance = new ClassWithPrivateField()
console.log(instance.privateField); //undefined
console.log(instance.privateMethod); //undefined
```



åŸæ–‡:
[2022å‰ç«¯åº”è¯¥æŒæ¡çš„10ä¸ª JS å°æŠ€å·§](https://juejin.cn/post/7072274726940311588)