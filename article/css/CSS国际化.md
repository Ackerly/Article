# CSS国际化
**与语言相关的样式**  
你有没有想过Chrome怎么会问你是否想翻译网页的内容?这是因为HTML元素上的lang属性。  
lang属性是一个非常重要的属性，因为它识别WEB上文本内容的语言，并且该信息在许多地方都被使用。前面提到的Chrome内置翻译，针对特定语言内容的搜索引擎，以及屏幕阅读器。  
与语言相关的样式化的关键在于在页面标记中适当使用lang属性。lang属性将ISO 639语言代码识别为值。
更新:Tobias Bengfort指出lang属性使用了一个名为BCP 47的IETF规范，该规范很大程度上基于ISO 639标准。
在大多数情况下，您将使用像zh这样的两个字母的代码来表示中文，但是中文(包括阿拉伯语等其他语言)被认为是一种宏语言，它由许多具有更具体的主语言子标记的语言组成。  
一般的指导是html元素必须总是有一个lang属性集，然后由所有其他元素继承。  
在同一页上看到不同语言的内容并不少见。在本例中，使用span或div包装该内容，并将正确的lang属性应用于包装元素。
```
<p>The fourth animal in the Chinese Zodiac is Rabbit (<span lang="zh">兔子</span>).</p>
```
**:lang()伪类选择器**  
这个伪类选择器可以识别内容的语言，即使该语言是在元素之外声明的。  
行包含两种语言的标记，如下所示：  
```
<p>
  We use <em>italics</em> to emphasise words in English, <span lang="zh">但是中文则是用<em>着重号</em></span>.
</p>
```
可采用以下样式：
```
em:lang(zh) {
  font-style: normal;
  text-emphasis: dot;
}
```
用斜体字强调英语中的单词，但是中文则是用着重号.
lang属性不是应用于em元素，而是应用于其父元素。伪类仍然有效。如果我们使用更常见的属性选择器，例如[lang=“zh]，则该属性必须位于em元素上才能生效。  
**使用属性选择器**  
可以使用以下语法精确匹配lang属性值：
```
[lang="zh"]
/* will match only zh */
```
汉语被认为是一种宏语言，这意味着它的语言标签可以由额外的细节组成，例如脚本子标签Hans或Hant（W3C说，如果需要区分，只使用脚本子标签，否则不使用）、区域子标签HK或TW等等。    
语言标签可以比两个字母长。但最一般化的类别总是排在第一位，所以要针对以特定字符串开头的属性值，使用以下涉及^的语法：  
```
[lang^="zh"]
/*将匹配zh，zh HK，zh Hans，zhong，zh123…
*基本上是以zh作为前两个字符的任何内容*/
```
还有另一种涉及|的语法，它将匹配选择器中的确切值，或者匹配一个以值开头，紧接着是-的值。
```
[lang|="zh"]
/* 将匹配 zh, zh-HK, zh-Hans, zh-amazing, zh-123 */
```
对于属性选择器，属性必须位于您想要设置样式的元素上，如果它位于父级或祖先级，则它将不起作用。  
除了lang=“en”之外，:lang(en)还将匹配lang=“en US”、lang=“en GB”等等。  
**Writing mode**  
writing-mode的默认值为horizontal-tb。但人类的神奇给了我们3000多种文字，文字和书写方向远不止从上到下的水平方向这一种方式。传统的蒙古语从左到右垂直书写，而日语、汉语和韩语等东亚语言在垂直书写时从右到左。允许这样做的写入模式属性分别是垂直lr和垂直rl。  
还有sideways-lr和sideways-rl的值，它们将符号侧向旋转。每个Unicode字符都有一个垂直方向属性，告知呈现引擎在默认情况下字形应该如何定向。  
通过text-orientation属性来改变字符的朝向。当您使用垂直排版的东亚文本，并点缀以拉丁语为基础的单词或字符时，这通常会发挥作用。对于缩写，可以选择使用text-combination-vertical将字母压缩到一个字符空间中。  
有些人可能想知道从右到左的语言，如阿拉伯语、希伯来语或波斯语(仅举几例)，以及CSS是否也适用于这些脚本。简而言之，CSS不应该用于双向样式。W3C的指导如下:  
因为方向性是文档结构的组成部分，所以应该使用标记来设置文档或信息块的方向性，或者标识文本中仅使用Unicode双向算法不足以实现所需方向性的位置。  
这是因为通过CSS应用的样式有可能被关闭，被覆盖，无法识别，或者在不同的上下文中被更改/替换。相反，建议使用dir属性来设置显示文本的基本方向。  
**逻辑属性**  
网页上的所有东西都是一个盒子，CSS总是使用顶部、底部、左侧和右侧的物理方向来指示我们的目标盒子的哪一边。但是，当writing-mode不是默认的从上到下的水平方向时，这些值往往会令人困惑。  
因为规范仍然处于草案状态，所以语法可能会继续更改。即使现在，当前的浏览器实现与规范中的不同，所以一定要用MDN: CSS逻辑属性和值对最新的语法进行双重检查。  
容器的逻辑顶部使用inset-block-start，而容器的逻辑底部使用inset-block-end。容器的逻辑左侧使用inset-inline-start，而容器的逻辑右侧使用inset-inline-end。  
也有相应的边界、边距和填充的映射，它们是:  
- top to block-start
- right to inline-end
- bottom to block-end
- left to inline-start

**边框的物理和逻辑方向的比较**  
- 给定的要求是有一个框内的文本运行与以下特征:  
- 文本运行的顶部边缘的边框颜色应为红色。
- 文本右边缘的边框颜色应为绿色。
- 文本运行的底部边缘的边框颜色应为蓝色。
- 文本的左边缘的边框颜色应为黄色。
- 使用物理方向需要在每次写入方向改变时进行修改，而使用逻辑属性则允许所有六个用例具有相同的属性和值。

**列表和计数器**  
数字系统是用来表示数字的书写系统，即使最常用的数字系统是印度-阿拉伯数字系统(0,1,2,3等等)，CSS也允许我们用其他数字系统显示有序列表。  
预定义的计数器样式可以与list-style-type属性一起使用，该属性涵盖了从阿法尔语到乌尔都语的174个数字系统。  
**text-decoration**  
如前所述，东亚语言没有斜体的概念。相反，我们有强调点。它们可以放在字符的上方或下方，以强调文本，加强语气或避免歧义。  
汉字横写时，这些点放在汉字的下方，竖写时，这些点放在汉字的右侧。  
另一方面，日语在水平书写模式下，在字符上方放置强调点。为了使CSS属性更加通用，在CSS text-decoration 模块第3级中引入了text-emphasis-style、text-emphasis-position和text-emphasis-color。  
除了点之外，你可以使用不同的符号，比如圆、三角形，甚至是单个字符作为字符串。位置和颜色也可以根据各自的属性进行调整。  
线条装饰也包含在同一规范中，为开发者提供了对下划线和上划线的更精细的控制。这对于那些经常溢出基线的升序或降序脚本尤其有用。  
CSS text-decoration 模块涵盖了text-decoration-skip，该模块控制当覆盖线和下划线跨越字形时如何绘制覆盖线和下划线。同样，对于像英语这样的语言来说，这种情况发生的频率较低，但对像缅甸语这样的脚本的美学影响很大。
**字体变化**  
访问OpenType特性有两类CSS属性，高级属性和低级属性。本规范建议尽可能使用高级属性。这主要取决于浏览器支持。  
例如，东亚字体变体允许控制具有变体的字符的字形形式，例如简体中文字形和繁体中文字形。这是同一个字符，但它们可以写得不同。  
还有字体变体连字，它为连字和上下文形式提供了许多预定义的选项，如任意连字、历史连字或上下文连字。  
低级属性是通过字体功能设置访问的，您可以使用4个字母的OpenType标记来切换所需的功能（这取决于您的字体是否有这些功能，但假设有）  
共有141个功能标签，从可选分数到对正替换，从Ruby符号形式到斜线零。这些CSS属性与字体文件本身的功能密切相关，因此外部依赖性取决于字体的选择。

原文:
[CSS国际化](https://mp.weixin.qq.com/s/LCgdM02tXHMOFiQ7wC0H7Q)