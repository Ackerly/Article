# 永久重定向（301）和临时重定向（302）
## 什么是重定向
服务器给浏览器返回一个状态码为301或者302的重定向响应，将旧地址重定向到一个新地址。  
浏览器会自动跳转到Location域指明的URL，需要所有的信息都在HTTP头部，而响应体一般是空的

## 重定向目的
1. 一个页面有两个地址，搜索引擎认为是两个网站，造成每个搜索链接减少从而降低排名，而搜索引擎知道301永久重定向，这样就会把两个访问地址归到同一个网站排名下
2. 用不同的地址会造成缓存友好性变差，但一个页面有好几个名字可能会被缓存几次。

## 对SEO的影响
- 301代表永久性转移，  
301重定向是网页更改地址后对搜索引擎友好的最好方法。只要不是暂时搬移的情况都建议使用301来做转址。如果我们把一个地址采用301跳转方式跳转的话，搜索引擎会把老地址的PageRank等信息带到新地址，同时在搜索引擎库中废弃掉原先的老地址，旧网址的排名等完全清零。
从搜索引擎优化角度出发，301重定向是网址重定向最为可行的一种办法。当网站的域名发生变更后，搜索引擎只对新网址进行索引，同时又会把旧地址下原有的外部链接如数转移到新地址下，从而不会让网站的排名因为网址变更而收到丝毫影响。同样，在使用301永久性重定向命令让多个域名指向网站主域时，亦不会对网站的排名产生任何负面影响。
- 302代表暂时性转移，  
前些年，不少Black Hat SEO曾广泛用这项技术作弊。各主要搜索引擎均加强了打击力度，像Google前些年对Business.com和进来对BWM德国网站的惩罚。即使主观不是spam，也很容易被搜寻引擎容易误判为spam而遭到惩罚
能够对302重定向具备优异处理能力的只有Google。在网站使用302重定向命令将其它域名指向主域时，只有Google会把其它域名的链接成绩计入主域，而其它搜索引擎只会把链接成绩向多个域名分摊，从而削弱主站的链接总量。

针对SEO，301更优于302

## 场景
**重定向场景**
1. 网站调整
2. 网页被移到一个新地址
3. 网页扩展名修改

**301场景**
- 之前的网站因为某种原因需要移除掉，然后到新的地址访问，是永久性的
- 域名到期不续费或者发现更适合网站的域名，想换域名
- 空间服务器不稳定，换空间的时候
- 搜索引擎结果中出现不带www域名，而www的域名却没有收录，可以使用301重定向告诉搜索引擎目标域名是哪一个

**302场景**
- 当一个网站或者网页24-48小时内临时移动到一个新位置

## 替代方案
如果路径指向同一台服务器，可以用Alias和mod_rewire  
如果是域名变化，可以创建一条CNAME（创建一个指向另一个域名的DNS记录作为别名）结合Alias或者mod_rewrite
