# 可以永远相信debugger,但是不能永远相信console.log  
有时会遇到过这样的情况，我在代码里面console.log()了一个数组，然后打开浏览器控制台，看着是空的就像这样[]，结果点展开它里面又有值了，但是在代码打印的位置使用length或者获取数组里面的值都是不行的  
在某处代码console.log()一个对象,明明控制台打印对象的某一个key是1，但是我展开这个对象里面的key居然是2，在代码里面获取的也是2  
**问题原因**  
这个和js的引用数据类型还有console.log()的设计有关系。引用数据类型大体上可以说是由两部分组成：指针和内容，指针保存的内容就是一个内存地址的指向，指针一般都是基本数据类型保存在栈内存，内容就包含着这个引用数据类型的实际值一般保存在堆内存。console.log打印的时候只是打印了这个引用数据类型的一个快照，快照中的指针和内容都是照相的时候的内容，在console.log()之后，修改了这个引用数据类型，或者说在这之前修改的操作在一个异步的内容里面，再看打印的时候，这个引用数据类型的内容可能就被修改了，但是因为快照的原因我们看到的还是以前的值。  
浏览器会利用指针去内存重新读取内容，因为快照的指针是没有发生变化的，所以就看到了改变之后内存，这就是为什么我们展开和不展开看到的结果是不一样的原因了。当然造成这样的原因不一定都是因为代码在异步里面操作这个引用数据类型。  
浏览器在进行I/O的时候异步会提升性能，所有这就是为什么有时候写的同步代码依然会出现不一致的情况  


原文: 
[你可以永远相信debugger,但是不能永远相信console.log](https://juejin.cn/post/7032504319584780325?utm_source=gold_browser_extension)