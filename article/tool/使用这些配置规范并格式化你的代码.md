# 使用这些配置规范并格式化你的代码
## EditorConfig
首先，需要一个基本的规范，例如缩进，如何换行等等。它要适用于所有的团队，适用于所有的语言，适用于所有的编辑器。editorconfig 能帮助我们实现这一点。它让所有的开发者在基本编码规范上保持一致  
我们需要做的是：  
1. 安装 EditorConfig 插件
2. 配置 .editorconfig 文件。

.editorconfig 的用法和例子：
``` 
## 打开文件时，EditorConfig 插件会在打开的文件的目录和每个父目录中查找名为 .editorconfig 的文件。 
## 如果到达根文件路径或找到具有 root=true 的 EditorConfig 文件，将停止对 .editorconfig 文件的搜索。
## 如果 root=true 没有配置, EditorConfig 插件将会在工程之外寻找 .editorconfig 文件
root = true

## 使用规则匹配文件
## *            匹配任何字符串，路径分隔符 (/) 除外
## **           匹配任意字符串
## ?            匹配任何单个字符
## [name]       匹配给定的字符串中的任何单个字符
## [!name]      匹配不在给定字符串中的任何单个字符
## {s1,s2,s3}   匹配任意给定的字符串
## {num1..num2} 匹配num1和num2之间的任何整数，其中num1和num2可以是正数或负数
## 如规则[*.{js}]只对 .js 文件生效。一般来说，我们配置 [*] 对所有文件生效。
[*]

## 缩进方式。 值可以是 tab 或者 space
indent_style = space

## 缩进大小。当设置为 tab 时，会取 tab_width 的值。
indent_size = 2

## 通常不需要设置。当 indent_size = tab 时，才会生效。
tab_width = 2;

## 设置为 lf、cr 或 crlf 以控制如何表示换行符。
end_of_line = lf

## 设置为 latin1、utf-8、utf-8-bom、utf-16be 或 utf-16le 来控制字符集。
charset = utf-8

## 设置为 true 以删除换行符之前的任何空格字符，设置为 false 以确保不会。
trim_trailing_whitespace = true

## 设置为 true 以确保文件在保存时以换行符结束，设置为 false 以确保不以换行符结束。
inset_final_newline = true
```
## Eslint
Eslint 提供了风格指南规则，并明确表示了哪些是可修复的：[Stylistic Issues](https://cn.eslint.org/docs/rules/#stylistic-issues)  
需要做的：  
- 本地安装 Eslint 和社区推荐的规范 eslint-config-airbnb （也可以是别的规范）。插件会使用安装的 Eslint 库（如果你还未安装：npm i eslint eslint-config-airbnb）
- VSCode 安装 Eslint插件
- 添加 .eslintrc.js 配置文件
- 更改 VSCode 的 setting.json 文件的配置

### setting.json
想要 保存时自动格式化，实现这个效果的配置有三种：  
-  editor.formatOnSave + eslint.format.enable。前者配置：保存时格式化，后者配置：将 ESlint 规则作为格式化标准。
- eslint.autoFixOnSave
- editor.codeActionsOnSave

eslint.autoFixOnSave 已经被废弃。使用它会提示更改为 editor.codeActionsOnSave。  
使用 editor.codeActionsOnSave 的时候，需要禁用其它格式化程序，最好的做法是将 ESlint 设置为格式化程序默认值。并且当我们这么做的时候，我们可以关闭 editor.formatOnSave，否则我们的文件将被修复两次，这是没有必要的。  
setting.json 里新增的配置  
``` 
// 编辑的时候检测还是保存的时候检测，默认在编辑的时候就检测。 default: onType
// "eslint.run": "onType",

// default: false
// "eslint.format.enable": false,

// default: false
// "editor.formatOnSave": false,

"editor.codeActionsOnSave": {
  "source.fixAll.eslint": true
},
"[vue]": {
  "editor.defaultFormatter": "dbaeumer.vscode-eslint"
},
"[javascript]": {
  "editor.defaultFormatter": "dbaeumer.vscode-eslint"
},
```
### .eslintrc.js
个文件将会规定我们的 ESLint 具体该使用什么规则去规范我们的代码。
**普遍用法**  
默认情况下，ESLint 支持 ES5 的语法。我们可以覆盖这个配置，启用对 ES6、 ES7 ... 的支持。  
``` 
// 启用对 es6 的语法和全局变量的支持
{
  env: {
    es6: true,
  },
}
```
ESLint 不仅能识别浏览器环境中的语法，其它环境(如 Node)我们也希望它能识别，这时候我们可以这样配置：
``` 
{
  env: {
    browser: true,
    node: true,
  },
}
```
使用特殊的解析器去解析我们的代码，是否是符合规范的
``` 
{
  parser: 'babel-eslint',
}
```

参考：  
[使用这些配置规范并格式化你的代码](https://juejin.cn/post/7023529741248364580)
