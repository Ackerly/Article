# 把前端项目写成一座屎山
最近几年前端发展的非常快，SPA的繁荣让前端的工程化也越来越重。在很多场景下，前端的复杂度和难度也早已经超过了后端。但快速的发展下，前端也逐渐暴露出了许多问题。众所周知，前端从业人员很少谈程序的设计原则或设计思想。设计模式也顶多是在八股面试时千篇一律的问答“观察者模式”和“发布订阅者模式”。“内聚”和“解耦”这样的词语也很少从前端嘴里蹦出。这就难免导致前端代码写成一座大屎山。而这还是在基于类MVVM框架开发模式的前提下，前端代码天然具有了组件级别的抽象，如果是刀耕火种的MVC时代，更是难以想象  
前端项目频频爆出bug，已经到了修1个bug产生3个bug的程度，甚至很多bug无法定位。问了同事原因，回答项目比较复杂。窃以为项目复杂不是写成屎山的理由（举一个极端的例子，你的项目再难再复杂也不会超过Chrome浏览器，那如果Chrome浏览器项目可以被维护的非常得体，难度更低的项目一定也能找到好的技术方案和架构来应对。）。出于好奇大致浏览了这个项目的代码，发现这就是一座典型的前端大屎山。除了作者本人应该没有任何人可以或愿意接住该项目，未来的命运就只能是招个新人从0开始重构，甚至一行代码都没法参考。
从编写软件的角度，其实目前有很多成熟的代码规范可以参考，甚至规范到变量命名等等。  

**拒绝Ts**  
坚决不用Ts，甚至将Ts写的项目重构成Js代码。  

**拒绝hooks**  
所有组件都用Class组件，拒绝函数组件，拒绝hooks  

**全面拥抱状态管理器**  
所有状态都通过类似Redux或Mobx等状态管理器去管理  

**不做模块抽象和复用**  
每个功能都从0开始实现，不抽象任何公共组件，不把高频出现的逻辑抽象成hooks，不抽象出工具函数，坚决不复用任何逻辑  

**把JSX结构掰开揉碎**  
直接在JSX上写长函数和复杂参数，至少需要达到一眼看上去稀碎，完全无法在脑中构建出页面的样子。  

**编写长长长长长的组件**  
一整个页面只编写1个组件去维护，单个组件代码行数轻松写到1000行以上  

**父子组件多传参，尽可能多层传递**  
父组件给子组件传非常多参数，然后子组件继续又将这些参数层层往下传递  

**单文件开发**  
将状态、数据、类型、工具函数、网络请求和组件等等全部放入一个文件中  

**打破文件组织结构与组件结构关系**  
虽然组件天然是一个多叉树结构，但相应的文件全部平铺到1层  

**不封装网络请求函数**  
每次请求都创建新的Axios实例，网络请求错误不统一拦截，全部单独catch  

**样式混用和强行覆盖**  
内联样式与css文件样式混用和覆盖。类名随便起，不要透露结构信息，相同的css代码在各个类上直接复制黏贴一份。遇到冲突的样式强行再覆盖一层  

**到处修改UI组件库内部样式**  
为了达到设计要求，通过导出类名强行覆盖UI组件库的内部css样式，多用!important魔法  

**多用Js代替CSS实现效果**  
伪类伪元素等坚决不用，动画过渡等效果也必须通过Js实现  

**到处使用微前端**  
尽可能的把页面拆成一个个单一功能的微前端应用  

**不要argue需求**  
对于产品或设计给到的需求全盘接受，尽力实现交互复杂混乱繁冗的功能，获得技术成就感，做一只不挑食的小白兔  

**收益**  
- 每次提交上线，产品测试后端都围着你充当鼓励师，唯恐出现生产事故大家一起背3.25警告。
- 每天都看起来非常忙，大家排队求你分一点时间处理各种技术问题，都哭着叫你大佬，饱受尊敬。
- 老板对你印象深刻，认为是个技术牛逼的救火队员，夸你勤奋不摸鱼下班晚，周报总是满满当当。
- 公司地位无可撼动，除了你这个项目没人有能力或愿意接住，只能给你加钱，生怕你离职。

原文: 
[把前端项目写成一座屎山，惨遭开除](https://mp.weixin.qq.com/s/IJq8mRe4IkOXWElfi9Ezqw)
