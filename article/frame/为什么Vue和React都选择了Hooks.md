# ä¸ºä»€ä¹ˆVueå’ŒReactéƒ½é€‰æ‹©äº†Hooks
**hooks çš„å®šä¹‰**  
"hooks" ç›´è¯‘æ˜¯ â€œé’©å­â€ï¼Œå®ƒå¹¶ä¸ä»…æ˜¯ reactï¼Œç”šè‡³ä¸ä»…æ˜¯å‰ç«¯ç•Œçš„ä¸“ç”¨æœ¯è¯­ï¼Œè€Œæ˜¯æ•´ä¸ªè¡Œä¸šæ‰€ç†ŸçŸ¥çš„ç”¨è¯­ã€‚é€šå¸¸æŒ‡ï¼š  
> ç³»ç»Ÿè¿è¡Œåˆ°æŸä¸€æ—¶æœŸæ—¶ï¼Œä¼šè°ƒç”¨è¢«æ³¨å†Œåˆ°è¯¥æ—¶æœºçš„å›è°ƒå‡½æ•°ã€‚

æ¯”è¾ƒå¸¸è§çš„é’©å­æœ‰ï¼šwindows ç³»ç»Ÿçš„é’©å­èƒ½ç›‘å¬åˆ°ç³»ç»Ÿçš„å„ç§äº‹ä»¶ï¼Œæµè§ˆå™¨æä¾›çš„ onload æˆ–addEventListener èƒ½æ³¨å†Œåœ¨æµè§ˆå™¨å„ç§æ—¶æœºè¢«è°ƒç”¨çš„æ–¹æ³•ã€‚  
åœ¨ react@16.x ä¹‹å‰ï¼Œå½“æˆ‘ä»¬è°ˆè®º hooks æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½è°ˆè®ºçš„æ˜¯â€œç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸâ€ã€‚ä½†æ˜¯ç°åœ¨ï¼Œhooks åˆ™æœ‰äº†å…¨æ–°çš„å«ä¹‰,ä»¥ react ä¸ºä¾‹ï¼Œhooks æ˜¯ï¼š  
ä¸€ç³»åˆ—ä»¥ â€œuseâ€ ä½œä¸ºå¼€å¤´çš„æ–¹æ³•ï¼Œå®ƒä»¬æä¾›äº†è®©ä½ å¯ä»¥å®Œå…¨é¿å¼€ classå¼å†™æ³•ï¼Œåœ¨**å‡½æ•°å¼ç»„ä»¶**ä¸­å®Œæˆç”Ÿå‘½å‘¨æœŸã€çŠ¶æ€ç®¡ç†ã€é€»è¾‘å¤ç”¨ç­‰å‡ ä¹å…¨éƒ¨ç»„ä»¶å¼€å‘å·¥ä½œçš„èƒ½åŠ›ã€‚
```
import { useState, useEffect, useCallback } from 'react';
// æ¯”å¦‚ä»¥ä¸Šè¿™å‡ ä¸ªæ–¹æ³•ï¼Œå°±æ˜¯æœ€ä¸ºå…¸å‹çš„ Hooks
```
è€Œåœ¨ vue ä¸­hooks çš„å®šä¹‰å¯èƒ½æ›´æ¨¡ç³Š,åœ¨ vue **ç»„åˆå¼API**é‡Œï¼Œä»¥ â€œuseâ€ ä½œä¸ºå¼€å¤´çš„ï¼Œä¸€ç³»åˆ—æä¾›äº†ç»„ä»¶å¤ç”¨ã€çŠ¶æ€ç®¡ç†ç­‰å¼€å‘èƒ½åŠ›çš„æ–¹æ³•,å¦‚ï¼šuseSlotsã€ useAttrsã€ useRouter ç­‰ã€‚ 
```
import { useSlots, useAttrs } from 'vue';
import { useRouter } from 'vue-router';
// ä»¥ä¸Šè¿™äº›æ–¹æ³•ï¼Œä¹Ÿæ˜¯ vue3 ä¸­ç›¸å…³çš„ Hookï¼
```
ä½†ä¸»è§‚æ¥è¯´vue ç»„åˆå¼APIå…¶æœ¬èº«å°±æ˜¯â€œvue hooksâ€çš„å…³é”®ä¸€ç¯ï¼Œèµ·åˆ°äº† react hooksé‡Œå¯¹ç”Ÿå‘½å‘¨æœŸã€çŠ¶æ€ç®¡ç†çš„æ ¸å¿ƒä½œç”¨ã€‚ï¼ˆå¦‚ onMountedã€ ref ç­‰ç­‰ï¼‰ã€‚  
**å‘½åè§„èŒƒ å’Œ æŒ‡å¯¼æ€æƒ³**  
åœ¨ react å®˜æ–¹æ–‡æ¡£é‡Œ
- å‡è®¾ä»»ä½•ä»¥ã€Œuseã€å¼€å¤´å¹¶ç´§è·Ÿç€ä¸€ä¸ªå¤§å†™å­—æ¯çš„å‡½æ•°å°±æ˜¯ä¸€ä¸ª Hook
- åªåœ¨ React å‡½æ•°ç»„ä»¶ä¸­è°ƒç”¨ Hookï¼Œè€Œä¸åœ¨æ™®é€šå‡½æ•°ä¸­è°ƒç”¨ Hook
- åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨ Hookï¼Œè€Œä¸è¦åœ¨å¾ªç¯ï¼Œæ¡ä»¶æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hookã€‚
  
## ä¸ºä»€ä¹ˆéœ€è¦ hooks**  
**æ›´å¥½çš„çŠ¶æ€å¤ç”¨**  
åœ¨ class ç»„ä»¶æ¨¡å¼ä¸‹ï¼ŒçŠ¶æ€é€»è¾‘çš„å¤ç”¨æ˜¯ä¸€ä»¶å›°éš¾çš„äº‹æƒ…ã€‚  
å‡è®¾æœ‰å¦‚ä¸‹éœ€æ±‚ï¼š  
> å½“ç»„ä»¶å®ä¾‹åˆ›å»ºæ—¶ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª state å±æ€§ï¼šnameï¼Œå¹¶éšæœºç»™æ­¤ name å±æ€§é™„ä¸€ä¸ªåˆå§‹å€¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¾—æä¾›ä¸€ä¸ª setName æ–¹æ³•ã€‚å¯ä»¥åœ¨ç»„ä»¶å…¶ä»–åœ°æ–¹å¼€é”€å’Œä¿®æ”¹æ­¤çŠ¶æ€å±æ€§ã€‚  
> æ›´é‡è¦çš„æ˜¯: è¿™ä¸ªé€»è¾‘è¦å¯ä»¥å¤ç”¨ï¼Œåœ¨å„ç§ä¸šåŠ¡ç»„ä»¶é‡Œå¤ç”¨è¿™ä¸ªé€»è¾‘

åœ¨æ‹¥æœ‰ Hooks ä¹‹å‰ï¼Œé¦–å…ˆä¼šæƒ³åˆ°çš„è§£å†³æ–¹æ¡ˆä¸€å®šæ˜¯ mixin,ä»£ç å¦‚ä¸‹ï¼š
```
// æ··å…¥æ–‡ä»¶ï¼šname-mixin.js
export default {
  data() {
    return {
      name: genRandomName() // å‡è£…å®ƒèƒ½ç”Ÿæˆéšæœºçš„åå­—
    }
  },
  methods: {
    setName(name) {
      this.name = name
    }
  }
}
// ç»„ä»¶ï¼šmy-component.vue
<template>
  <div>{{ name }}</div>
<template>
<script>
import nameMixin from './name-mixin';
export default {
  mixins: [nameMixin],
  // é€šè¿‡mixins, ä½ å¯ä»¥ç›´æ¥è·å¾— nameMixin ä¸­æ‰€å®šä¹‰çš„çŠ¶æ€ã€æ–¹æ³•ã€ç”Ÿå‘½å‘¨æœŸä¸­çš„äº‹ä»¶ç­‰
  mounted() {
    setTimeout(() => {
      this.setName('Tom')
    }, 3000)
  }
}
<script>
```
mixins è™½ç„¶æä¾›äº†è¿™ç§çŠ¶æ€å¤ç”¨çš„èƒ½åŠ›ï¼Œä½†å®ƒçš„å¼Šç«¯å®åœ¨å¤ªå¤šäº†
**éš¾ä»¥è¿½æº¯çš„æ–¹æ³•ä¸å±æ€§ **
2. 





å‚è€ƒï¼š
[æµ…è°ˆï¼šä¸ºå•¥vueå’Œreactéƒ½é€‰æ‹©äº†HooksğŸ‚ï¼Ÿ](https://juejin.cn/post/7066951709678895141?utm_source=gold_browser_extension)
