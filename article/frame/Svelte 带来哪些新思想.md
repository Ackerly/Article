# Svelte 带来哪些新思想
## Svelte 的优势
Svelte 翻译成中文就是“苗条”的意思，侧面表明它打包出来的包非常小.Svelte 主要优势有以下几点。  
**编译器**  
Svelte 是一种全新的构建用户界面的方法。传统框架如 React 和 Vue 在浏览器中需要做大量的工作，而 Svelte 将这些工作放到构建应用程序的编译阶段来处理。  
Svelte 组件需要在 .svelte 后缀的文件中编写，Svelte 会将编写好的代码翻编译 JS 和 CSS 代码。  
**打包体积更小**  
Svelte 在打包会将引用到的代码打包起来，而没引用过的代码将会被过滤掉，打包时不会加入进来  
在经过 gzip 压缩后生成的包大小，Svelte 打包出来的体积甩开 Vue、React 和 Angular 几条街。
这是因为经过 Svelte 编译的代码，仅保留引用到的部分。  
**不使用 Virtual DOM**  
Virtual DOM 就是 虚拟 DOM，是用 JS 对象描述 DOM 节点的数据，由 React 团队推广出来的。  
在 React 中实现数据驱动视图大概流程是这样的：  
``` 
数据发生变化 -> 通过diff算法判断要更新哪些节点 -> 找到要更新的节点 -> 更新真实DOM
```
Vue 的数据更新原理其实也差不多，只是实现方式和使用语法会有所不同。  
diff 算法 会根据数据更新前和更新后生成的虚拟 DOM 进行对比，只有两个版本的虚拟 DOM 存在差异时，才会更新对应的真实 DOM  
使用虚拟 DOM 对比的方式会比直接对比真实 DOM 的效率高  
而且真实 DOM 身上挂载的属性和方法非常多，使用虚拟 DOM 的方式去描述 DOM 节点树会显得更轻便  
每次数据发生变化时都要先创建一个虚拟 DOM，并使用 diff 算法 将新虚拟 DOM 与旧虚拟 DOM 进行比对，这个步骤会消耗一点性能和需要一点执行时间。  
而 Svelte 在未使用虚拟 DOM 的情况下实现了响应式设计  
Svelte 会监听顶层组件所有变量，一旦某个变量发生变化，就更新使用过该变量的组件。这就仅仅只需更新受影响的那部分 DOM 元素，而不需要整个组件更新。  
**更自然的响应式**  
现在流行的前端框架基本都使用 数据驱动视图 这个概念，像 Vue 和 React 这些框架，都有响应式数据的概念。  
Vue 和 React 在数据响应方面还是有点“不那么自然”，简单举几个例子：  
- 在 React 中，如果需要更新数据并在视图中响应，需要使用 setState 方法更新数据。
- 在 Vue2 中，响应式数据要放在 data 里，在 methods 中使用 this.xxx 来更新数据。
- 在 Vue3 的 Composition API 语法中，需要使用 ref 或者 reactive 等方法包裹数据，使用 xxx.value 等方式修改数据。

上面这几种情况，感觉多少都添加了点东西才能实现响应式数据功能  
在 Svelte 的理念中，响应式应该给开发者一种无感体验，比如在 Excel 中，当我规定 C1 单元格的值是 A1 + B1 的和，设置好规则后，用户只需要修改 A1 和 B1 即可，C1 会自动响应，而不需再做其他操作。  

``` 
<h1>{name}</h1>

<script>
  let name = '雷猴'

  setTimeout(() => {
    name = '鲨鱼辣椒'
  }, 1000)
</script>
```
上面的代码中，1 秒后修改 name 的值，并更新视图。  
从代码就能看出，在使用 Svelte 开发项目时，开发者一般无需使用额外的方法就能做到和 Vue、React 的响应式效果。  
**性能强**  
对比里多个热门框架的性能。从 Svelte 的性能测试结果可以看出，Svelte 是相当优秀的  
**内存优化**  
Svelte 对内存的管理做到非常极致，占用的内存也是非常小，这对于配置不高的设备来说是件好事  
**更关注无障碍体验**  
在使用 Svelte 开发时会 自动对无障碍访问方面的体验进行检测，比如 img 元素没有添加 alt 属性，Svelte 会向你发出一条警告。无障碍体验对特殊人事来说是很有帮助的,比如当你在 img 标签中设置好 alt 属性值，使用有声浏览器会把 alt 的内容读出来  


参考:  
[前端新宠 Svelte 带来哪些新思想？赶紧学起来！](https://mp.weixin.qq.com/s/5o7qiDC_BGIq6n0FWHvClw)
